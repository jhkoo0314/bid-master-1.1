// src/lib/rights-terminology.ts
// 권리 용어 설명 및 툴팁 정의

export interface TerminologyExplanation {
  title: string;
  description: string;
}

/**
 * 권리 용어 설명 사전
 */
export const RIGHTS_TERMINOLOGY: Record<string, TerminologyExplanation> = {
  말소기준권리: {
    title: "말소기준권리",
    description:
      "경매에서 가장 우선순위가 높은 권리입니다.\n\n" +
      "• 이 권리보다 나중에 설정된 권리들은 경매 낙찰 시 말소(소멸)됩니다.\n" +
      "• 이 권리보다 먼저 설정된 권리들은 낙찰자가 인수해야 합니다.\n" +
      "• 대부분 근저당권이나 저당권이 말소기준권리가 됩니다.",
  },
  대항력: {
    title: "임차인 대항력",
    description:
      "임차인이 경매에서 자신의 권리를 주장할 수 있는 법적 지위입니다.\n\n" +
      "대항력 성립 요건:\n" +
      "1. 전입일이 말소기준권리 설정일보다 빠를 것\n" +
      "2. 확정일자가 배당요구종기일보다 빠를 것\n\n" +
      "• 대항력이 있으면 낙찰자가 임차인을 인수해야 합니다.\n" +
      "• 대항력이 없으면 임차인은 퇴거해야 합니다.",
  },
  소멸: {
    title: "권리 소멸",
    description:
      "경매 낙찰 시 말소기준권리보다 후순위 권리는 자동으로 소멸됩니다.\n\n" +
      "• 소멸되는 권리는 낙찰자가 인수할 필요가 없습니다.\n" +
      "• 대부분 근저당권, 저당권, 압류 등이 소멸됩니다.\n" +
      "• 전세권, 임차권, 법정지상권 등은 소멸되지 않을 수 있습니다.",
  },
  인수: {
    title: "권리 인수",
    description:
      "경매 낙찰자가 말소기준권리보다 선순위 권리를 그대로 인정하고 인수하는 것입니다.\n\n" +
      "• 인수해야 할 권리는 낙찰자에게 부담이 됩니다.\n" +
      "• 인수 금액은 총인수금액에 포함됩니다.\n" +
      "• 전세권, 임차보증금, 법정지상권 등이 인수 대상이 될 수 있습니다.",
  },
  미소멸권리: {
    title: "미소멸권리",
    description:
      "경매에서 소멸되지 않을 가능성이 있는 권리입니다.\n\n" +
      "주요 유형:\n" +
      "• 전세권: 전세보증금 인수 필요\n" +
      "• 임차권: 임차보증금 인수 필요\n" +
      "• 법정지상권: 토지 사용권 유지\n" +
      "• 유치권: 점유자의 권리\n" +
      "• 가처분: 임시 처분 권리\n\n" +
      "⚠️ 미소멸권리는 낙찰자가 인수해야 할 수 있으므로 입찰가 계산에 반드시 반영해야 합니다.",
  },
  배당요구: {
    title: "배당요구",
    description:
      "경매에서 권리자를 주장하려면 배당요구종기일까지 신청해야 합니다.\n\n" +
      "• 배당요구를 하면 경매 매각대금에서 우선순위에 따라 배당받습니다.\n" +
      "• 배당요구를 하지 않으면 배당받을 수 없습니다.\n" +
      "• 보증금 > 배당금인 경우 임차인이 배당요구를 하지 않을 수 있어 인수 가능성이 높습니다.",
  },
  인수추정액: {
    title: "인수추정액",
    description:
      "미소멸 가능성이 있는 권리들의 합계입니다.\n\n" +
      "• 전세권, 임차권, 법정지상권, 유치권, 가처분 등의 청구액을 합산합니다.\n" +
      "• 이 금액은 입찰가 산정 시 반드시 고려해야 합니다.\n" +
      "• 실제 인수 금액은 권리 분석 결과에 따라 달라질 수 있습니다.",
  },
  전세권: {
    title: "전세권",
    description:
      "임대차와 유사하지만 더 강한 권리입니다.\n\n" +
      "• 전세보증금을 반환받을 권리가 있습니다.\n" +
      "• 경매에서도 인정받을 수 있어 낙찰자가 인수해야 할 수 있습니다.\n" +
      "• 대항력이 있으면 낙찰자가 전세보증금을 인수해야 합니다.",
  },
  임차권: {
    title: "임차권 (주택/상가)",
    description:
      "임차인이 부동산을 사용할 권리입니다.\n\n" +
      "• 주택임차권과 상가임차권으로 구분됩니다.\n" +
      "• 대항력이 있으면 낙찰자가 임차보증금을 인수해야 합니다.\n" +
      "• 소액임차인은 추가 보호를 받습니다.",
  },
  법정지상권: {
    title: "법정지상권",
    description:
      "타인의 토지 위에 건물을 짓고 사용할 수 있는 권리입니다.\n\n" +
      "• 법적으로 인정되는 지상권으로 경매에서도 인정받습니다.\n" +
      "• 낙찰자가 이 권리를 인수해야 할 수 있습니다.\n" +
      "• 보통 건물 소유자와 토지 소유자가 다를 때 발생합니다.",
  },
  유치권: {
    title: "유치권",
    description:
      "점유자가 채권을 담보로 점유물을 유치할 수 있는 권리입니다.\n\n" +
      "• 점유자가 채권을 변제받을 때까지 유지할 수 있습니다.\n" +
      "• 경매에서도 인정받을 수 있어 낙찰자가 인수해야 할 수 있습니다.",
  },
  가처분: {
    title: "가처분",
    description:
      "임시 처분 권리로 재산을 보전하는 조치입니다.\n\n" +
      "• 가압류와 유사하지만 더 넓은 범위의 보전입니다.\n" +
      "• 경매에서 배당받을 권리가 있을 수 있습니다.",
  },
  근저당권: {
    title: "근저당권",
    description:
      "채권 담보를 위해 부동산에 설정하는 권리입니다.\n\n" +
      "• 경매에서 가장 우선적으로 배당받는 권리입니다.\n" +
      "• 대부분 말소기준권리가 됩니다.\n" +
      "• 채권최고액까지 배당받을 수 있습니다.",
  },
  저당권: {
    title: "저당권",
    description:
      "특정 채권을 담보로 부동산에 설정하는 권리입니다.\n\n" +
      "• 근저당권보다 범위가 좁지만 우선순위는 높습니다.\n" +
      "• 경매에서 배당받을 권리가 있습니다.",
  },
  압류: {
    title: "압류",
    description:
      "법원의 강제집행권으로 채무자의 재산을 압류하는 것입니다.\n\n" +
      "• 경매에서 배당받을 권리가 있습니다.\n" +
      "• 말소기준권리보다 후순위이면 소멸됩니다.",
  },
  가압류: {
    title: "가압류",
    description:
      "채권자가 채무자의 재산을 미리 압류해 두는 법적 조치입니다.\n\n" +
      "• 경매에서 배당받을 권리가 있습니다.\n" +
      "• 말소기준권리보다 후순위이면 소멸됩니다.",
  },
  소유권이전청구권가등기: {
    title: "소유권이전청구권 가등기",
    description:
      "소유권 이전을 청구할 권리를 가등기한 것입니다.\n\n" +
      "• 본등기 전에 가등기로 권리를 보전합니다.\n" +
      "• 경매에서 배당받을 권리가 있을 수 있습니다.",
  },
  담보가등기: {
    title: "담보가등기",
    description:
      "담보를 위한 가등기로 담보권을 보전하는 것입니다.\n\n" +
      "• 본등기 전에 가등기로 권리를 보전합니다.\n" +
      "• 경매에서 배당받을 권리가 있을 수 있습니다.",
  },
  확정일자: {
    title: "확정일자",
    description:
      "임차인이 전입신고를 하고 받는 증명서입니다.\n\n" +
      "• 대항력 인정의 중요한 요건입니다.\n" +
      "• 배당요구종기일보다 빠른 확정일자가 있어야 대항력이 성립합니다.",
  },
  소액임차인: {
    title: "소액임차인",
    description:
      "보증금이 일정 금액 이하인 임차인입니다.\n\n" +
      "• 지역별로 기준이 다릅니다 (서울: 1억 7천만원 이하).\n" +
      "• 경매에서 우선변제를 받을 수 있는 특별한 보호를 받습니다.\n" +
      "• 보증금의 50%까지 우선변제받을 수 있습니다 (최대 5천만원).",
  },
};

/**
 * 권리 용어 설명을 가져옵니다.
 */
export function getTerminologyExplanation(
  term: string
): TerminologyExplanation | null {
  return RIGHTS_TERMINOLOGY[term] || null;
}

/**
 * 권리 유형에 대한 설명을 가져옵니다 (유사 용어 포함)
 */
export function getRightTypeExplanation(
  rightType: string
): TerminologyExplanation | null {
  // 정확한 매칭
  if (RIGHTS_TERMINOLOGY[rightType]) {
    return RIGHTS_TERMINOLOGY[rightType];
  }

  // 유사 용어 매칭
  if (rightType.includes("임차") || rightType.includes("임대")) {
    return RIGHTS_TERMINOLOGY.임차권;
  }
  if (rightType.includes("지상권")) {
    return RIGHTS_TERMINOLOGY.법정지상권;
  }
  if (rightType.includes("소유권이전")) {
    return RIGHTS_TERMINOLOGY.소유권이전청구권가등기;
  }
  if (rightType.includes("담보가등기")) {
    return RIGHTS_TERMINOLOGY.담보가등기;
  }

  return null;
}

